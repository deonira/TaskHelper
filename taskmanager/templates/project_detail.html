
<h1>{{ project.name }}</h1>
<a href="{% url 'create_task' project.id %}">Create Task</a>
<a href="{% url 'edit_project' project.id %}">Edit Project</a>
<a href="{%url 'project_chat' project.id%}">Open Chat</a>

<h2>Filter Tasks</h2>
<form method="get" action="{% url 'project_detail' project.id %}">
    <label for="status">Status:</label>
    <select id="status" name="status">
        <option value="">All</option>
        <option value="new" {% if request.GET.status == "new" %}selected{% endif %}>New</option>
        <option value="in_progress" {% if request.GET.status == "in_progress" %}selected{% endif %}>In Progress</option>
        <option value="completed" {% if request.GET.status == "completed" %}selected{% endif %}>Completed</option>
    </select>

    <label for="priority">Priority:</label>
    <select id="priority" name="priority">
        <option value="">All</option>
        <option value="low" {% if request.GET.priority == "low" %}selected{% endif %}>Low</option>
        <option value="medium" {% if request.GET.priority == "medium" %}selected{% endif %}>Medium</option>
        <option value="high" {% if request.GET.priority == "high" %}selected{% endif %}>High</option>
    </select>

    <label for="due_date">Due Date:</label>
    <input type="date" id="due_date" name="due_date" value="{{ request.GET.due_date }}">

    <button type="submit">Filter</button>
</form>

<h2>Tasks</h2>
<ul>
    {% for task in tasks %}
    <li>
        <a href="{% url 'task_detail' task.id %}">{{ task.id }} - {{ task.status }} - {{ task.priority }} - {{ task.due_date }}</a>
    </li>
    {% empty %}
    <li>No tasks found.</li>
    {% endfor %}
</ul>
